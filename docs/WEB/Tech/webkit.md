# Webkit (웹킷)

웹킷은 **오픈소스** **웹 브라우저 엔진**이다. 웹킷은 Safari, Mail, App Store 그리고 Mac OS, IOS, Linux의 많은 앱에서 사용된다. 앞에서 웹킷은 웹 브라우저 엔진이라 정의했는데, 자세히는 웹컨텐트와 웹렌더링엔진이다.
이런 특징들을 정리하면, 웹킷은 HTML, CSS, JS로 이루어진 웹컨텐트를 사용자 출력장치에 표현하고 사용자와 상호작용하는 웹애플리케이션 소프트웨어의 핵심부품이라 말할 수 있다.

## Table of Contents

- [Webkit (웹킷)](#webkit-웹킷)
  - [Table of Contents](#table-of-contents)
  - [웹킷의 구성 요소](#웹킷의-구성-요소)
  - [웹킷 프로젝트의 목표와 오해](#웹킷-프로젝트의-목표와-오해)
    - [목표](#목표)
    - [오해](#오해)
  - [CSS 속성과의 연관성](#css-속성과의-연관성)
  - [참고 자료](#참고-자료)

## 웹킷의 구성 요소

- 웹 코어(Web Core): HTML, CSS, SVG를 위한 레이아웃, 렌더링, DOM 라이브러리로 초기에는 애플사가, 지금은 웹킷 프로젝트가 개발하고 있다. LGPL 하에서 라이센스되고 있다.
- 자바스크립트 코어(JavaScript Core): 웹킷 기능을 위한 자바스크립트 코드를 제공하며 맥 오에스 텐 안의 다른 환경에서 이러한 종류의 스크립팅을 제공한다.
- 드로세라(Drosera): 웹킷 순수 빌드에 포함되어 있는 자바스크립트 디버거이다.

## 웹킷 프로젝트의 목표와 오해

웹킷 오픈소스 프로젝트는 웹킷을 오픈소스로 개발, 유지, 보수하는 프로젝트이다. [Webkit.org](https://webkit.org/)에서는 웹킷 프로젝트가 오픈소스로서 잘 관리되길 바라며 웹킷 프로젝트의 목표와 프로젝트에 대한 오해를 작성해놓았다.

### 목표

- **웹 컨텐트 엔진** : 이 프로젝트의 최우선적인 대상은 HTML, CSS, 자바스크립트 그리고 DOM과 같은 표준 웹기술을 사용해 작성된 월드와이드웹 상의 컨텐트이다. 또한 이와 함께 다른 웹관련 애플리케이션에서 웹킷을 이용할 수 있도록 해서 사용자에게 웹컨텐트를 보여주거나 상호작용하는 엔진이 되기를 원한다.

- **오픈소스** : 웹킷은 다른 오픈소스나 독점적인 애플리케이션 모두에서 자유롭게 사용될 수 있도록 해야 한다. 특히, LGPL 2.1+와 호환되는 라이센싱을 목표로 하고 있다. 현재로서는 웹킷 라이센스를 LGPL 3으로 옮길 계획은 없다.

- **호환성** : 호환성은 수많은 기존 사이트에게 있어서 필수적인 요소이다. 웹킷은 표준 준수 비용이 많이 들더라도 기존 웹사이트와의 호환성을 유지하고 개선시키도록 노력하고 있다. 호환성을 위해 웹킷은 회귀(regression) 테스팅을 실시하고 있다.

- **표준 준수** : 웹킷은 웹표준을 준수하고 새로운 표준을 지원하는데 목표를 두고 있다. 실제로 웹표준화 커뮤니티에 참여하면서 새로운 기술들을 표준에 반영하고 새로운 표준을 엔진에 구현하여 표준의 타당성을 검사하고 있다. 이를 위해 회귀 테스트를 한다.

- **안정성** : 웹킷 코드는 최고수준의 안정성을 보장하기 위해 관리되고 있다. 엔진이 죽거나, 응답이 없거나, 하위호환성 문제의 경우 즉각적으로 처리된다.

- **성능** : 속도가 메모리 사용량을 개선하고 관리하는 것도 중요한 목표이다. 우리는 결코 "충분히 괜찮은" 정도의 성능을 고려하지 않는다. 우리는 개선을 위해 끊임없이 노력하고 있다. 웹 컨텐트가 풍부해지고 복잡해질수록, 웹 브라우저가 제한적인 단말에서 수행되는 경우가 많아질수록, 성능개선 노력은 꾸준히 이루어져야 한다.

- **보안** : 보안위협으로부터 사용자를 보호하는 것은 매우 중요한 일이다. 우리는 보안 이슈를 즉각적으로 해결하여, 사용자를 보호하고 그들의 신뢰를 유지하고 있다.

- **이식성** : 우리는 웹킷을 다양한 데스크탑, 모바일, 임베디드 등의 플랫폼에 포팅이 용이하도록 하고 있다. 플랫폼 통합이 잘 이루어지도록 기반구조를 제공하여, 적절한 곳에서 네이티브 플랫폼 서비스를 재사용하고 친숙한 임베딩 API를 제공하고 있다.

- **사용성** : 웹킷 기능이 사용자 경험에 미치는 영향을 확장하기 위해, 좋은 사용자 인터페이스 설계 원칙에 따라 작업하고 있다. 이와 함께 타겟 플랫폼이 제공하는 휴먼인터페이스와 잘 어울리도록 하고 있다.

- **분석 용이성(Hackability)** : 웹기술이 복잡하긴 하지만, 웹킷이 빠르게 발전할 수 있도록 상대적으로 이해하기 쉬운 코드를 만들고자 노력하고 있다. 가능하면 직설적인 알고리즘과 자료구조를 사용해 명확하고, 유지보수가 수월하도록 코드를 작성하고 있다. 또한 멤버변수와 메소드 등등의 이름과 코드 구조를 개선하여 코드 이해를 돕도록 했다. 때론 어떤 문제해결을 위해 기교적으로 복잡한 코드를 작성할 때에도 인터페이스의 명확성을 잃지 않도록 했다. 더욱이 안정장치로 자동화된 회귀 테스트를 적극 활용해 많은 코드 변화가 일어날지라도 위험을 최소화하도록 했다.

### 오해

- **웹킷은 엔진이지 브라우저가 아니다.** 우리는 웹킷 기반의 완전한 브라우저를 개발할 계획이 없다.
- 웹킷은 과학 프로젝트가 아닌 **공학 프로젝트**이다.
- 웹킷에 새로운 기능을 적용하기 위해, 관련 기술이나 적어도 검증을 위해 유즈케이스(use case)를 더 선호한다.
- 웹킷은 재사용이 가능한 범용 코드로 구성되어 있지 않다.
- 때론 범용목적의 코드를 작성하지만, 좋은 웹 컨텐트 엔진을 위해 필요한 수준으로만 작성한다.
- 웹킷은 **모든 문제에 대한 해결책이 아니다.** 우리는 웹컨텐트에 집중한다. 상상할 수 있는 모든 기술에 대한 솔루션을 제공하려는 것이 아니다.

## CSS 속성과의 연관성

웹 프로그래밍을 하다보면 CSS 속성을 작성할 때 `-webkit-`이라는 접두어를 본 경험이 있을 것이다. 이것은 **벤더프리픽스**라 불리며 웹 크로스 브라우징과 연관이 있는데, 크로스 브라우징이란 다양한 브라우저에서 사용자가 웹 컨텐트 및 서비스를 차이 없이 제공하는것을 말한다.

웹 브라우저마다 사용하는 엔진이 다르기 때문에 브라우저마다 호환이 되거나 안되는 CSS 속성들이 존재하는데 브라우저별 벤더프리픽스를 살펴보면 아래와 같다.

- 크롬, 사파리: `-webkit-`
- 파이어폭스: `moz-` (mozila 라는 단체가 파이어폭스를 만들었기 때문)
- 오페라: `-o-`, `-webkit-`
- ~~인터넷 익스플로러: `-ms-`~~

예시로 확인 해보면 아래의 `transition`이라는 코드를 다양한 웹 브라우저에서 차이 없이 보여주기 위해서는

```css
.example {
  transition: all 0.5s;
}
```

아래와 같은 벤더프리픽스를 붙인 `transition`속성들을 추가해줘야 하는 것이다.

```css
.example {
  -webkit-transition: all 0.5s;
  -o-transition: all 0.5s;
  transition: all 0.5s;
}
```

이런 벤더프리픽스를 자동으로 생성해주는 웹 사이트가 있는데, [https://autoprefixer.github.io/](https://autoprefixer.github.io/)라는 사이트다.

만약 웹 브라우저를 사용하기 싫다면 js파일로 만들어놓은 것이 존재하는데, [http://projects.verou.me/prefixfree/](http://projects.verou.me/prefixfree/)라는 사이트에서 다운로드 받아 사용할 수 있다. 스크립트 파일을 받아 적용하고싶은 페이지에 임포트 시켜주면 된다.

## 참고 자료

- [webkit.org](https://webkit.org/)
- [[인터넷/웹] 브라우저 엔진, 웹킷(WebKit)이란 무엇인가?](https://blog.naver.com/PostView.naver?blogId=agapeuni&logNo=60128649365&redirect=Dlog&widgetTypeCall=true&directAccess=false)
- [CSS3 벤더 프리픽스](https://dolly77.tistory.com/9)
